<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="`plot' method for the class `ei'."><title>Plotting Ecological Inference Estimates — plot.ei • ei</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plotting Ecological Inference Estimates — plot.ei"><meta property="og:description" content="`plot' method for the class `ei'."><meta property="og:image" content="https://iqss-research.github.io/ei/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ei</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-user-s-guide">User's Guide</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-user-s-guide">
    <a class="dropdown-item" href="../articles/ei-introduction.html">Introduction</a>
    <a class="dropdown-item" href="../articles/ei-2x2.html">2x2 case</a>
    <a class="dropdown-item" href="../articles/ei-RxC.html">RxC case</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/iqss-research/ei/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plotting Ecological Inference Estimates</h1>
      <small class="dont-index">Source: <a href="https://github.com/iqss-research/ei/blob/HEAD/R/plot.R" class="external-link"><code>R/plot.R</code></a></small>
      <div class="d-none name"><code>plot.ei.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>`plot' method for the class `ei'.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for ei</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>An <code>ei</code> object from the function <code>ei</code>.</p></dd>


<dt>...</dt>
<dd><p>A list of options to return in graphs.  See values below.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <dl><dt>tomogD</dt>
<dd><p>Tomography plot with the data only.  See Figure 5.1,
page 81.</p></dd>

<dt>tomog</dt>
<dd><p>Tomography plot with ML contours.  See Figure 10.2,
page 204.</p></dd>

<dt>tomogCI</dt>
<dd><p>Tomography plot with \(80\%\) confidence
intervals.  Confidence intervals appear on the screen in red with the
remainder of the tomography line in yellow.  The confidence interval portion
is also printed thicker than the rest of the line.  See Figure 9.5, page
179.</p></dd>

<dt>tomogCI95</dt>
<dd><p>Tomography plot with \(95\%\) confidence intervals.
Confidence intervals appear on the screen in red with the remainder of the
tomography line in yellow.  The confidence interval portion is also printed
thicker than the rest of the line.  See Figure 9.5, page 179.</p></dd>

<dt>tomogE</dt>
<dd><p>Tomography plot with estimated mean posterior \(\beta_i^b\)
and \(\beta_i^w\) points.</p></dd>

<dt>tomogP</dt>
<dd><p>Tomography plot with mean
posterior contours.</p></dd>
 <dt>betab</dt>
<dd><p>Density estimate (i.e., a smooth version
of a histogram) of point estimates of \(\beta_i^b\)'s with whiskers.</p></dd>

<dt>betaw</dt>
<dd><p>Density estimate (i.e., a smooth version of a histogram) of
point estimates of \(\beta_i^w\)'s with whiskers.</p></dd>

<dt>xt</dt>
<dd><p>Basic
\(X_i\) by \(T_i\) scatterplot.</p></dd>
 <dt>xtc</dt>
<dd><p>Basic \(X_i\) by \(T_i\)
scatterplot with circles sized proportional to \(N_i\).</p></dd>

<dt>xtfit</dt>
<dd><p>\(X_i\) by \(T_i\) plot with estimated \(E(T_i|X_i)\) and
conditional \(80\%\) confidence intervals.  See Figure 10.3, page 206.</p></dd>

<dt>xtfitg</dt>
<dd><p><code>xtfit</code> with Goodman's regression line superimposed.</p></dd>

<dt>estsims</dt>
<dd><p>All the simulated \(\beta_i^b\)'s by all the simulated
\(\beta_i^w\)'s.  The simulations should take roughly the same shape of
the mean posterior contours, except for those sampled from outlier
tomography lines.</p></dd>

<dt>boundXb</dt>
<dd><p>\(X_i\) by the bounds on \(\beta_i^b\)
(each precinct appears as one vertical line), see the lines in the left
graph in Figure 13.2, page 238.</p></dd>

<dt>boundXw</dt>
<dd><p>\(X_i\) by the bounds on
\(\beta_i^w\) (each precinct appears as one vertical line), see the lines
in the right graph in Figure 13.2, page 238.</p></dd>

<dt>truth</dt>
<dd><p>Compares truth to
estimates at the district and precinct-level.  Requires <code>truth</code> in the
<code>ei</code> object.  See Figures 10.4 (page 208) and 10.5 (page 210).</p></dd>

<dt>movieD</dt>
<dd><p>For each observation, one tomography plot appears with the
line for the particular observation darkened.  After the graph for each
observation appears, the user can choose to view the next observation (hit
return), jump to a specific observation number (type in the number and hit
return), or stop (hit "s" and return).</p></dd>

<dt>movie</dt>
<dd><p>For each observation,
one page of graphics appears with the posterior distribution of
\(\beta_i^b\) and \(\beta_i^w\) and a plot of the simulated values of
\(\beta_i^b\) and \(\beta_i^w\) from the tomography line.  The user can
choose to view the next observation (hit return), jump to a specific
observation number (type in the number and hit return), or stop (hit ``s"
and return).</p></dd>


</dl><p>TODO</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Returns any of a set of possible graphical objects, mirroring those in the
examples in King (1997).  Graphical option <code>lci</code> is a logical value
specifying the use of the Law of Conservation of Ink, where the implicit
information in the data is represented through color gradients, i.e. the
color of the line is a function of the length of the tomography line.  This
can be passed as an argument and is used for ``tomogD'' and ``tomog'' plots.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Gary King (1997). A Solution to the Ecological Inference
Problem.  Princeton: Princeton University Press.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gary King &lt;&lt;email: king@harvard.edu&gt;&gt; and Molly Roberts &lt;&lt;email:
molly.e.roberts@gmail.com&gt;&gt;</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sample_ei</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">formula</span> <span class="op">&lt;-</span> <span class="va">t</span> <span class="op">~</span> <span class="va">x</span></span></span>
<span class="r-in"><span><span class="va">dbuf</span> <span class="op">&lt;-</span> <span class="fu"><a href="ei.html">ei</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">formula</span>, total <span class="op">=</span> <span class="st">"n"</span>, data <span class="op">=</span> <span class="va">sample_ei</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Running 2x2 ei</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Maximizing likelihood for `erho` = 0.5.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Running 2x2 ei</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Maximizing likelihood for `erho` = 3.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Running 2x2 ei</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Maximizing likelihood for `erho` = 5.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Running 2x2 ei</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Maximizing likelihood for `erho` = 0.1.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Running 2x2 ei</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Running 2x2 ei <span style="color: #B2B2B2;">[2ms]</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ⠙ Beginning importance sampling.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Beginning importance sampling. <span style="color: #B2B2B2;">[1.2s]</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dbuf</span>, <span class="st">"tomog"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>`plot()` was deprecated in ei 2.0.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Please check our reference for new functions: https://iqss-research.github.io/ei/reference/index.html</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dbuf</span>, <span class="st">"tomog"</span>, <span class="st">"betab"</span>, <span class="st">"betaw"</span>, <span class="st">"xtfit"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.ei-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Gary King, Molly Roberts.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

