<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plotting Ecological Inference Estimates — plot.ei • ei</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plotting Ecological Inference Estimates — plot.ei"><meta name="description" content="plot' method for the class ei'."><meta property="og:description" content="plot' method for the class ei'."><meta property="og:image" content="https://iqss-research.github.io/ei/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ei</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-user-s-guide" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">User's Guide</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-user-s-guide"><li><a class="dropdown-item" href="../articles/ei-introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/ei-2x2.html">2x2 case</a></li>
    <li><a class="dropdown-item" href="../articles/ei-RxC.html">RxC case</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/iqss-research/ei/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plotting Ecological Inference Estimates</h1>
      <small class="dont-index">Source: <a href="https://github.com/iqss-research/ei/blob/master/R/plot.R" class="external-link"><code>R/plot.R</code></a></small>
      <div class="d-none name"><code>plot.ei.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>plot' method for the class </code>ei'.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'ei'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An <code>ei</code> object from the function <code>ei</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>A list of options to return in graphs.  See values below.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>


<dl><dt>tomogD</dt>
<dd><p>Tomography plot with the data only.  See Figure 5.1,
page 81.</p></dd>

<dt>tomog</dt>
<dd><p>Tomography plot with ML contours.  See Figure 10.2,
page 204.</p></dd>

<dt>tomogCI</dt>
<dd><p>Tomography plot with \(80\%\) confidence
intervals.  Confidence intervals appear on the screen in red with the
remainder of the tomography line in yellow.  The confidence interval portion
is also printed thicker than the rest of the line.  See Figure 9.5, page
179.</p></dd>

<dt>tomogCI95</dt>
<dd><p>Tomography plot with \(95\%\) confidence intervals.
Confidence intervals appear on the screen in red with the remainder of the
tomography line in yellow.  The confidence interval portion is also printed
thicker than the rest of the line.  See Figure 9.5, page 179.</p></dd>

<dt>tomogE</dt>
<dd><p>Tomography plot with estimated mean posterior \(\beta_i^b\)
and \(\beta_i^w\) points.</p></dd>

<dt>tomogP</dt>
<dd><p>Tomography plot with mean
posterior contours.</p></dd>
 <dt>betab</dt>
<dd><p>Density estimate (i.e., a smooth version
of a histogram) of point estimates of \(\beta_i^b\)'s with whiskers.</p></dd>

<dt>betaw</dt>
<dd><p>Density estimate (i.e., a smooth version of a histogram) of
point estimates of \(\beta_i^w\)'s with whiskers.</p></dd>

<dt>xt</dt>
<dd><p>Basic
\(X_i\) by \(T_i\) scatterplot.</p></dd>
 <dt>xtc</dt>
<dd><p>Basic \(X_i\) by \(T_i\)
scatterplot with circles sized proportional to \(N_i\).</p></dd>

<dt>xtfit</dt>
<dd><p>\(X_i\) by \(T_i\) plot with estimated \(E(T_i|X_i)\) and
conditional \(80\%\) confidence intervals.  See Figure 10.3, page 206.</p></dd>

<dt>xtfitg</dt>
<dd><p><code>xtfit</code> with Goodman's regression line superimposed.</p></dd>

<dt>estsims</dt>
<dd><p>All the simulated \(\beta_i^b\)'s by all the simulated
\(\beta_i^w\)'s.  The simulations should take roughly the same shape of
the mean posterior contours, except for those sampled from outlier
tomography lines.</p></dd>

<dt>boundXb</dt>
<dd><p>\(X_i\) by the bounds on \(\beta_i^b\)
(each precinct appears as one vertical line), see the lines in the left
graph in Figure 13.2, page 238.</p></dd>

<dt>boundXw</dt>
<dd><p>\(X_i\) by the bounds on
\(\beta_i^w\) (each precinct appears as one vertical line), see the lines
in the right graph in Figure 13.2, page 238.</p></dd>

<dt>truth</dt>
<dd><p>Compares truth to
estimates at the district and precinct-level.  Requires <code>truth</code> in the
<code>ei</code> object.  See Figures 10.4 (page 208) and 10.5 (page 210).</p></dd>

<dt>movieD</dt>
<dd><p>For each observation, one tomography plot appears with the
line for the particular observation darkened.  After the graph for each
observation appears, the user can choose to view the next observation (hit
return), jump to a specific observation number (type in the number and hit
return), or stop (hit "s" and return).</p></dd>

<dt>movie</dt>
<dd><p>For each observation,
one page of graphics appears with the posterior distribution of
\(\beta_i^b\) and \(\beta_i^w\) and a plot of the simulated values of
\(\beta_i^b\) and \(\beta_i^w\) from the tomography line.  The user can
choose to view the next observation (hit return), jump to a specific
observation number (type in the number and hit return), or stop (hit “s"
and return).</p></dd>


</dl><p>a base plot</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Returns any of a set of possible graphical objects, mirroring those in the
examples in King (1997).  Graphical option <code>lci</code> is a logical value
specifying the use of the Law of Conservation of Ink, where the implicit
information in the data is represented through color gradients, i.e. the
color of the line is a function of the length of the tomography line.  This
can be passed as an argument and is used for <code>tomogD'' and </code>tomog” plots.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Gary King (1997). A Solution to the Ecological Inference
Problem.  Princeton: Princeton University Press.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gary King &lt;&lt;email: king@harvard.edu&gt;&gt; and Molly Roberts &lt;&lt;email:
molly.e.roberts@gmail.com&gt;&gt;</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sample_ei</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">formula</span> <span class="op">&lt;-</span> <span class="va">t</span> <span class="op">~</span> <span class="va">x</span></span></span>
<span class="r-in"><span><span class="va">dbuf</span> <span class="op">&lt;-</span> <span class="fu"><a href="ei.html">ei</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">formula</span>, total <span class="op">=</span> <span class="st">"n"</span>, data <span class="op">=</span> <span class="va">sample_ei</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Running 2x2 ei</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Maximizing likelihood for `erho` = 0.5.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Running 2x2 ei</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Running 2x2 ei <span style="color: #B2B2B2;">[1ms]</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ⠙ Beginning importance sampling.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Beginning importance sampling. <span style="color: #B2B2B2;">[55ms]</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dbuf</span>, <span class="st">"tomog"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>`plot()` was deprecated in ei 2.0.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please check our reference for new functions:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   https://iqss-research.github.io/ei/reference/index.html</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dbuf</span>, <span class="st">"tomog"</span>, <span class="st">"betab"</span>, <span class="st">"betaw"</span>, <span class="st">"xtfit"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.ei-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://gking.harvard.edu/" class="external-link">Gary King</a>, <a href="http://www.margaretroberts.net/" class="external-link">Molly Roberts</a>, <a href="https://christophertkenny.com/" class="external-link">Christopher T. Kenny</a>, <a href="https://shusei-e.github.io" class="external-link">Shusei Eshima</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

