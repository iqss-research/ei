[{"path":"https://iqss-research.github.io/ei/articles/ei-2x2.html","id":"overview-2x2-r-commands","dir":"Articles","previous_headings":"","what":"Overview: 2x2 R-commands","title":"2x2 Case","text":"section describe basic commands 2x2 inference. purpose, without loss generality, use running example book portrayed Table 2.3 (page 31). example uses proportion voting age population black (\\(X_i\\)), proportion turning vote (\\(T_i\\)), number voting age people (\\({N_i}\\)) precinct (\\(=1,\\ldots,p\\)) infer fraction blacks vote (\\(\\beta_i^b\\)) proportion whites vote (\\(\\beta_i^w\\)), also precinct. (extended example ei, refer user’s guide .) example sequence commands follows: applications, plot eiread likely run multiple times different options chosen, commands included five read data (t, x, n).","code":"formula <- t ~ x dbuf <- ei(formula = formula, total = \"n\", data = data) summary(dbuf) eiread(dbuf, \"betab\", \"betaw\") plot_tomog(dbuf) plot_xt(dbuf)"},{"path":"https://iqss-research.github.io/ei/articles/ei-2x2.html","id":"ei-to-run-the-main-procedure","dir":"Articles","previous_headings":"Overview: 2x2 R-commands","what":"ei: To run the main procedure","title":"2x2 Case","text":"Use format, dbuf = ei(formula, total = \"n\", data = data), takes three \\(p\\times 1\\) vectors inputs: t (e.g. fraction voting age population turning vote); x (e.g. fraction voting age population black); n (e.g. total number people voting age population). output procedure list dbuf (.e. output object class list called “data buffer”). data buffer includes maximium likelihood estimates simulated quantities interest ei procedure. running ei, good idea save dbuf analysis. output data buffer ei includes large variety different results useful understanding results analysis. minimal set nonrepetitive information stored list (data buffer), large variety information can easily computed . Fortunately, need know whether information request stored computed treated . extract information data buffer, three procedures available:","code":""},{"path":"https://iqss-research.github.io/ei/articles/ei-2x2.html","id":"summary-to-obtain-a-general-summary-of-district-level-information","dir":"Articles","previous_headings":"Overview: 2x2 R-commands","what":"summary: To obtain a general summary of district-level information","title":"2x2 Case","text":"summary(dbuf) produce aggregate information ei results. summary produce summary maximum likelihood estimates simulated quantities interest. also includes information values specified prior.","code":""},{"path":"https://iqss-research.github.io/ei/articles/ei-2x2.html","id":"plot-to-graph-relevant-information","dir":"Articles","previous_headings":"Overview: 2x2 R-commands","what":"plot: To graph relevant information","title":"2x2 Case","text":"graphics, use plot_**(dbuf);, dbuf ei.object output ei ei.sim, ** completes function ready-made graphs. example, plot_tomog(dbuf) plot tomography graph, plot_xt(dbuf) display scattercross graph. number graphs can selected plot output. plots can produced estimating maximum likelihood estimates using ei, simulating quantities interest. initial plots can useful determining priors include, user can opt choose simulate quantities interest selecting option simulate = FALSE. However, plots, plot need simulated quantities interest, therefore can plotted simulate set default, TRUE.","code":""},{"path":"https://iqss-research.github.io/ei/articles/ei-2x2.html","id":"eiread-to-obtain-relevant-information-and-numerical-results","dir":"Articles","previous_headings":"Overview: 2x2 R-commands","what":"eiread: To obtain relevant information and numerical results","title":"2x2 Case","text":"numerical information, use v <- eiread(dbuf, \"name\"), v item extracted, dbuf data buffer output ei, name can list output possibilities. example, eiread(dbuf, \"betab\") give vector point estimates \\(\\beta_i^b\\), eiread(dbuf, \"ci80w\") give 80% confidence intervals \\(\\beta_i^w\\). number items can selected output. example, eiread(dbuf, \"betab\", \"ci80b\") produce list point estimates 80% confidence intervals $ _i^b$.","code":""},{"path":"https://iqss-research.github.io/ei/articles/ei-2x2.html","id":"users-guide-an-example","dir":"Articles","previous_headings":"","what":"User’s Guide: An Example","title":"2x2 Case","text":"now show use ei simple example. use data voter registration racial background people 268 counties four Southern U.S. States: Florida, Louisiana, South Carolina. data used Chapter 10. data include total voting age population county (n), proportion population county black (x), proportion population county registered vote (t). proportion whites registered can computed (1-x). can load data R using command statistical goal estimate fraction blacks registered (\\(\\beta_i^b\\)) fraction whites registered (\\(\\beta_i^w\\)) county. quantities interest generally unknown. However, ei also includes option allows user assess reliability ei algorithm true quantities interest known. illustrate use “truth” option, data also include true fractions registered blacks () true fraction registered whites (tw).","code":"library(ei) #> Loading required package: eiPack #>  #> Attaching package: 'ei' #> The following object is masked from 'package:stats': #>  #>     filter data(matproii)"},{"path":"https://iqss-research.github.io/ei/articles/ei-2x2.html","id":"the-basic-ei-algorithm","dir":"Articles","previous_headings":"User’s Guide: An Example","what":"The Basic EI Algorithm","title":"2x2 Case","text":"begin, perform ecological inference calling function ei. ei first computes maximizes likelihood distribution based inputed data, estimates county-level quantities interest based possible values, ``bounds\", county overall likelihood distribution. run algorithm, minimum need three vectors. Two vectors, t x, contain aggregate known information counties interest. example, t proportion voters registered county, x proportion blacks county. two vectors contain aggregate information, since interested proportion voters country black. last vector need n, number people interest county. example, n number people voting age. proceed performing ecological inference without covariates data: include covariate \\(\\beta_i^b\\) simply specify covariate vector option , string refers name covariate dataset. Similarly, include covariate \\(\\beta_i^w\\), specify covariate vector option , string refers name covariate dataset. Next, use summary(dbuf) obtain general information estimation. summary function provides basic information ecological inference estimation, maximum likelihood estimates three scales, overall summary quantities interest. First, reports values priors used ecological inference (Erho, Esigma, Ebeta). also reports number counties dataset (N), well number importance sampling iterations required produce estimates quantities interest (resamp). summary also produces information maximum likelihood estimates quantities interest. First, provides maximum likelihood estimates scale estimation. Next, provides values MLEs transformed untruncated bivariate normal distribution. estimates provide information location highest density estimates proportion blacks registered vote proportion whites registered vote. Last, provides values MLEs ultimate truncated bivariate normal scale. estimates unweighted average fraction blacks whites registered vote counties sample. example, ei algorithm predicts unweighted average proportion blacks registered vote across counties 0.57 unweighted average proportion whites registered vote 0.82. Finally, summary produces information aggregrate quantities interest. aggregate bounds mean bounds proportions black white voters, weighted population county. aggregate quantities interest weighted mean proportion registered blacks proportion registered whites county. example weighted average proportion blacks registered 0.57, weighted average proportion whites registered 0.82.","code":"formula <- t ~ x dbuf <- ei(formula = formula, total = \"n\", data = matproii) #>  [36mℹ [39m Running 2x2 ei #>  [36mℹ [39m Maximizing likelihood #>  [36mℹ [39m Running 2x2 ei  [36mℹ [39m Maximizing likelihood #>  [36mℹ [39m Running 2x2 ei  [32m✔ [39m Running 2x2 ei  [38;5;249m[1.4s] [39m #>  #> ⠙ Beginning importance sampling. #>  [32m✔ [39m Beginning importance sampling.  [38;5;249m[6.5s] [39m summary(dbuf) #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #>  #> ── Erho ── #>  #> 3 #>  #> ── Esigma ── #>  #> 0.5 #>  #> ── Ebeta ── #>  #> 0.5 #>  #> ── N ── #>  #> 268 #>  #> ── Resamp ── #>  #> 23 #>  #> ── Maximum likelihood results in scale of estimation (and se's) ── #>  #>        Bb0       Bw0       sigB       sigW       rho Zb0 Zw0 #>  1.5403114 2.1757706 -0.8302894 -1.1677630 2.2899529   0   0 #>  0.3873172 0.3755398  0.2293794  0.2103127 0.3117066   0   0 #>  #> ── Untruncated psi's ── #>  #>        BB       BW        SB        SW       RHO #>  1.166383 1.237476 0.4304842 0.3059673 0.9756279 #>  #> ── Truncated psi's (ultimate scale) ── #>  #>         BB        BW        SB        SW       RHO #>  0.6051237 0.8311117 0.2030294 0.1359939 0.8902157 #>  #> ── Aggregate Bounds ── #>  #>           betab     betaw #> lower 0.2125903 0.7025925 #> upper 0.9754242 0.9200036 #>  #> ── Estimates of Aggregate Quantities of Interest ── #>  #>         mean          sd #> Bb 0.5533818 0.016573443 #> Bw 0.8228765 0.004723507 #>  #> ── Precision ── #>  #> 4 #>"},{"path":"https://iqss-research.github.io/ei/articles/ei-2x2.html","id":"extracting-quantities-of-interest","dir":"Articles","previous_headings":"User’s Guide: An Example","what":"Extracting Quantities of Interest","title":"2x2 Case","text":"eiread extracts quantities interest list format object dbuf. example, extracts point estimates estimated standard deviations \\(\\beta_i^b\\), estimates proportion registered blacks county. user can use bb.$betab obtain vector point estimates \\(\\beta_i^b\\), bb.$sbetab obtain vector standard devations \\(\\beta_i^b\\).  eiread() takes number arguments extract number quantities interest data buffer. ?eiread can used find list quantities interest available ei. Among useful arguments \"betab\" \"betaw\", report point estimates; \"sbetab\" \"sbetaw\", report standard deviations point estimates; \"CI80b \"CI80w\", report confidence intervals point estimates.","code":"bb.out <- eiread(dbuf, \"betab\", \"sbetab\")"},{"path":"https://iqss-research.github.io/ei/articles/ei-2x2.html","id":"plotting-in-ei","dir":"Articles","previous_headings":"User’s Guide: An Example","what":"Plotting in EI","title":"2x2 Case","text":"Plotting ei output extremely useful understanding results ecological inference algorithm diagnosing problems estimation. First, graph tomography plot data (Figure 1).  Tomography Plot ML Contours:  Tomography Plots Point Estimates  Tomography Plots Confidence Intervals  line map represents possible values \\(\\beta_i^b\\) \\(\\beta_i^w\\) one county. contour lines identify portion lines highest probability containing true estimates \\(\\beta_i^b\\) \\(\\beta_i^w\\). contour lines provide information overall pattern registration. Note area highest probability upper right-hand corner, proportion whites registered \\(0.75\\) \\(1\\) proportion blacks registered \\(0.5\\) \\(1\\). , see lines clustered upper half figure, indicating possible values \\(\\beta_i^w\\) lower variance possible values \\(\\beta_i^b\\). Figure 2 double plot point estimates confidence intervals. compute , call plot generate two graphs: tomography plot point estimates generated algorithm, tomography plot 80% confidence intervals point estimate.  plot useful visualize estimates confidence intervals county. can see point estimates confidence intervals clustered area contours previous plot. , point estimates confidence intervals fall lines indicate possible values \\(\\beta_i^b\\) \\(\\beta_i^w\\). Figure 3 shows plots indicate distribution \\(\\beta_i^b\\) \\(\\beta_i^w\\). produce plots, run:   Density plots useful visualize location uncertainty point estimates. green line represents density simulated point estimates, black tick marks rug plot point estimates,s \\(\\beta_i^b\\) \\(\\beta_i^w\\). can see variance point estimates \\(\\beta_i^b\\) much higher variance point estimates \\(\\beta_i^w\\). Figure 4 portrays results ei algorithm plotting proportion blacks country proportion registered voters county. produce plot, use:  circles around points plot proportional population county. graph represents likelihood estimates plotting expected number registered voters given proportion blacks county, represented yellow line. red lines plot 80% confidence interval around regression line. higher uncertainty estimates black registration can seen absence points right hand side graph larger confidence interval right hand side graph, proportion blacks county relatively large. Finally, data true proportions registered blacks registered whites county, dataset, can use plots ei assess well algorithm works given data. , rerun ei algorithm, adding truth vectors,  tw truth argument. use plot compare estimates ei algorithm true proportions white black registered voters county.  “truth” plot (Figure 5) four components. top two figures posterior densities aggregate quantities interest \\(B^b\\) \\(B^w\\). densities tell us range algorithm predicts point estimates lie. example, density \\(B^b\\) wider density \\(B^w\\), indicating estimates \\(B^w\\) lie smaller range estimates \\(B^b\\). true aggregate values, computed  data inputed, indicated vertical bars. fact true \\(B^b\\) \\(B^w\\) within densities computed confirms model good job predicting true proportions registered white black voters. bottom two figures Figure 5 plot estimated values \\(\\beta_i^b\\) \\(\\beta_i^w\\) true values. size circles plotted proportional number blacks county first graph number whites county second graph. estimated values exactly equal true values, points \\(45^{\\circ}\\) line. points fall quite close \\(45^{\\circ}\\) deviate line systematic way, can see ei algorithm predicts point estimates quite well.","code":"plot_tomog(dbuf) plot_tomog(dbuf, options = list(contour_ML = TRUE)) plot_tomog(dbuf, options = list(points = TRUE)) plot_tomog(dbuf, options = list(CI = 0.95)) plot_tomog(dbuf, options = list(points = TRUE, CI = 0.95)) plot_density(dbuf, options = list(parameter = \"betab\")) plot_density(dbuf, options = list(parameter = \"betaw\")) plot_xt(dbuf) truth <- cbind(matproii$tb, matproii$tw) formula <- t ~ x dbuf_truth <- ei(formula = formula, total = \"n\", data = matproii, truth = truth) #>  [36mℹ [39m Running 2x2 ei #>  [36mℹ [39m Maximizing likelihood #>  [36mℹ [39m Running 2x2 ei  [36mℹ [39m Maximizing likelihood #>  [36mℹ [39m Running 2x2 ei  [32m✔ [39m Running 2x2 ei  [38;5;249m[1.1s] [39m #>  #> ⠙ Beginning importance sampling. #>  [32m✔ [39m Beginning importance sampling.  [38;5;249m[6.1s] [39m # Comparing Estimates to the Truth at the County Level plot_truth(dbuf_truth)"},{"path":"https://iqss-research.github.io/ei/articles/ei-2x2.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"2x2 Case","text":"Gary King, Solution Ecological Inference Problem: Reconstructing Individual Behaviour Aggregate Data, Princeton University Press (1997). Gary King Langche Zeng, “Dangers Extreme Counterfactuals.” Political Analysis, 14:2, pp 131-159, 2006. Lau et al, “eiPack: Ecological Inference Higher-Dimension Dtaa Management.” http://www.olivialau.org/software. Rosen et al, “Bayesian Frequentist Inference Ecological Inference: RxC Case.” Statistica Neerlandica, 55:2, pp 134-156, 2001. Useful documentation also avalaible http://gking.harvard.Edu. R language see http://www.r-project.org. Venables, W.N.,Ripley, B.D., Statistics Computing, Springer (2002).","code":""},{"path":"https://iqss-research.github.io/ei/articles/ei-RxC.html","id":"overvieweirxc-r-commands","dir":"Articles","previous_headings":"","what":"Overview:eiRxC R-commands","title":"RxC Case","text":"Although 2x2 case useful many circumstances, eiR also allows users expand beyond 2x2 case implement RxC models. , eiR contains MCMC implementation multinomial-Dirichlet eiRxC model Rosen, Jiang, King Tanner (2001) “Bayesian Frequentist Inference Ecological Inferece: RxC Case.” (Statistica Neerlandica, Vol. 55, nr.2, pp 134-156), incorporates R code eiPack (Olivia Lau, Ryan Moore Mike Kellermann). section describe basic commands needed eiRxC. Imagine instead 2x2 table user aims infer proportion whites non-whites turned vote, example, user instead wants infer percent turnout white, black, hispanic. 2x3 table resulting estimates table include two estimates (percent turnout turnout) three categories people (white, black hispanic). use data RxCdata running example. RxCdata variables five marginal variables 2x3 table: turnout number people precinct turned vote, noturnout number people precinct turn vote, white number people white precinct, black number people black precinct, hisp number people hispanic precinct. Note , different 2x2 case, numbers people rather proportions. user can include proportions want , must include argument total total number people precinct. begin, load RxC data ei library. formula eiRxC case tells program variables go side table. example, turnout turnout one side table, white, black hispanic side. Therefore, formula : can call formula using ei: MCMC output \\(\\beta\\)’s can found data buffer .  matrix contains simulations \\(\\beta\\)’s precinct. Since 60 precincts dataset 6 quantities interest, number columns  \\(60*6 = 360\\). can analyze MCMC output picking \\(\\beta\\) interested given time. example, look MCMC output estimated percent white turnout third precinct can use R code: can also plot MCMC output assess convergence:  output can get empirical mean standard deviation quantities interest. user can add extra arguments specify number simulations, burnin, priors function. information , see documentation eiPack Rosen et al (2001) paper.","code":"library(ei) #> Loading required package: eiPack #>  #> Attaching package: 'ei' #> The following object is masked from 'package:stats': #>  #>     filter data(RxCdata) formula <- cbind(turnout, noturnout) ~ cbind(white, black, hisp) dbuf <- ei(formula, data = RxCdata) #> ℹ Running eiRxC #> ✔ Running eiRxC [147ms] #> out <- dbuf$draws$Beta[, \"beta.white.turnout.3\"] summary(out) #>  #> Iterations = 1:1000 #> Thinning interval = 1  #> Number of chains = 1  #> Sample size per chain = 1000  #>  #> 1. Empirical mean and standard deviation for each variable, #>    plus standard error of the mean: #>  #>           Mean             SD       Naive SE Time-series SE  #>       0.410928       0.040384       0.001277       0.005765  #>  #> 2. Quantiles for each variable: #>  #>   2.5%    25%    50%    75%  97.5%  #> 0.3404 0.3812 0.4104 0.4400 0.4895 plot(out)"},{"path":"https://iqss-research.github.io/ei/articles/ei-RxC.html","id":"eirxc-tomography-plots-assessing-model-dependence","dir":"Articles","previous_headings":"","what":"eiRxC Tomography Plots: Assessing Model Dependence","title":"RxC Case","text":"eiRxC model estimates helpful, uncertainty estimates produce — like ecological inference point estimates — conditional model assumed. Yet, actual scientific uncertainty ei models stem sampling uncertainty given statistical model, rather uncertainty associated choosing model — known model dependence (King Zeng 2006). tomography plot contains information possible values quantities interest therefore useful model understanding true amount information data model obtaining estimates. available RxC case , developed method creating displaying tomography plots 2x3 RxC problems extension examine model dependence RxC model. 2x3 case, can using function plot_tomogRxC. Following code , using RxCdata,  polygons plot represent possibile values given precinct percent white turnout percent black turnout. plot follows call Law Conservation Ink, tomography polygons information (smaller polygons) colored brighter less information (larger polygons). colors plot heat map brighter polygons overlap . polygons particular district contain lot information percent white turnout, vast majority polygons contain low values percent white turnout, contain little information percent black turnout, polygons seem cover entire range possible percent black turnout. quantity interest percent hispanic turnout left tomography plot, since can graph two quantities interest simulataneously. However, reorganize formula, putting white hispanic first right hand side formula, can create another tomography plot expores deterministic information percent white turnout percent hispanic turnout.  new tomography plot (Figure 8), find similar results previous one. quite bit information percent white turnout, less information percent hispanic turnout. result derives fact hispanics blacks particular district. Last, can plot remaining two quantities interest – percent black turnout percent hispanic turnout– :  see even though informative polygons indicate low values percent hispanic black turnout, least information intersection percent black hispanic turnout. polygons spread across unit square space, indicating possible values percent black hispanic turnout spread large area. bottom right hand corner, R console, tomography plot reports many tomography polygons information, many tomography polygons cover entire unit square. see ther 34 tomography polygons information, since onlyhave 60 precincts, means little information quantities interest. might confident estimates white turnout RxC analysis black hispanic turnout.","code":"formula <- cbind(turnout, noturnout) ~ cbind(white, black, hisp) plot_tomogRxC(formula, RxCdata) formula <- cbind(turnout, noturnout) ~ cbind(white, hisp, black) plot_tomogRxC(formula, RxCdata) #> There are 1 tomography polygons with no information formula <- cbind(turnout, noturnout) ~ cbind(hisp, black, white) plot_tomogRxC(formula, RxCdata) #> There are 34 tomography polygons with no information"},{"path":"https://iqss-research.github.io/ei/articles/ei-RxC.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"RxC Case","text":"Gary King, Solution Ecological Inference Problem: Reconstructing Individual Behaviour Aggregate Data, Princeton University Press (1997). Gary King Langche Zeng, “Dangers Extreme Counterfactuals.” Political Analysis, 14:2, pp 131-159, 2006. Lau et al, “eiPack: Ecological Inference Higher-Dimension Dtaa Management.” http://www.olivialau.org/software. Rosen et al, “Bayesian Frequentist Inference Ecological Inference: RxC Case.” Statistica Neerlandica, 55:2, pp 134-156, 2001. Useful documentation also avalaible http://gking.harvard.Edu. R language see http://www.r-project.org. Venables, W.N.,Ripley, B.D., Statistics Computing, Springer (2002).","code":""},{"path":"https://iqss-research.github.io/ei/articles/ei-introduction.html","id":"introduction-ecological-inference","dir":"Articles","previous_headings":"","what":"Introduction: Ecological Inference","title":"Introduction","text":"program provides methods inferring individual behavior aggregate data. implements statistical procedures, diagnostics, graphics Gary King, Solution Ecological Inference Problem: Reconstructing Individual Behavior Aggregate Data (Princeton: Princeton University Press, 1997), http://j.mp/ecinfbook; Ori Rosen, Wenxin Jiang, Gary King, Martin . Tanner (2001) ``Bayesian Frequentist Inference Ecological Inferece: RxC Case.’’ (Statistica Neerlandica, Vol.55, nr.2, pp 134-156), http://j.mp/eiRxC; ongoing work. Except indicated, references page, section, chapter, table, figure numbers document refer first reference. Ecological inference process using aggregate (.e., “ecological”) data infer discrete individual-level relationships interest individual-level data available. Ecological inferences required political science research individual-level surveys unavailable (e.g., local comparative electoral politics), unreliable (racial politics), insufficient (political geography), infeasible (political history). also required public policy (e.g., applying Voting Rights Act) academic disciplines ranging epidemiology marketing sociology quantitative history. researchers using aggregate data encountered form ecological inference problem. ecological inference problem caused lack individual-level information, method ecological inference, including estimated program, always produce accurate results. However, potential difficulties reduced models include available information, diagnostics evaluate assumptions need modified, easy methods modifying assumptions, uncertainty estimates quantities interest. recommend reviewing Chapter 16 using program actual research. Model dependence defines ecological inference going anywhere beyond bounds tomography plots, added new graphical procedures evaluating degree model dependence. ei unifed program contains methods 2x2 ecological inference case RxC case. begin explaining use eiR 2x2 case, move RxC examples.","code":""},{"path":"https://iqss-research.github.io/ei/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Gary King. Author. Molly Roberts. Maintainer, author.","code":""},{"path":"https://iqss-research.github.io/ei/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"King G, Roberts M (2022). ei: Ecological Inference. http://gking.harvard.edu/eiR, http://gking.harvard.edu/eicamera/kinroot.html, https://iqss-research.github.io/ei/.","code":"@Manual{,   title = {ei: Ecological Inference},   author = {Gary King and Molly Roberts},   year = {2022},   note = {http://gking.harvard.edu/eiR, http://gking.harvard.edu/eicamera/kinroot.html, https://iqss-research.github.io/ei/}, }"},{"path":[]},{"path":"https://iqss-research.github.io/ei/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Ecological Inference","text":"can install development version ei like :","code":"remotes::install_github(\"iqss-research/ei\")"},{"path":"https://iqss-research.github.io/ei/index.html","id":"ei","dir":"","previous_headings":"","what":"ei","title":"Ecological Inference","text":"EI: (n R) Program Ecological Inference Authors: Gary King, Margaret Roberts program provides method inferring individual behavior aggregate data. implements statistical procedures, diagnostics, graphics book Solution Ecological Inference Problem: Reconstructing Individual Behavior Aggregate Data (Princeton: Princeton University Press, 1997), Gary King. information, see : https://gking.harvard.edu/eir","code":""},{"path":"https://iqss-research.github.io/ei/reference/RxCdata.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Dataset — RxCdata","title":"Sample Dataset — RxCdata","text":"description dataset","code":""},{"path":"https://iqss-research.github.io/ei/reference/RxCdata.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Dataset — RxCdata","text":"data frame containing 60 observations.","code":""},{"path":"https://iqss-research.github.io/ei/reference/RxCdata.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Dataset — RxCdata","text":"Source","code":""},{"path":"https://iqss-research.github.io/ei/reference/RxCdata.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sample Dataset — RxCdata","text":"Gary King (1997). Solution Ecological Inference Problem. Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/census1910.html","id":null,"dir":"Reference","previous_headings":"","what":"Black Literacy in 1910 — census1910","title":"Black Literacy in 1910 — census1910","text":"dataset aggregate literacy rates (t) fraction population black (x), 1910 US Census.  observation represents one county.","code":""},{"path":"https://iqss-research.github.io/ei/reference/census1910.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Black Literacy in 1910 — census1910","text":"data frame containing 1030 observations.","code":""},{"path":"https://iqss-research.github.io/ei/reference/census1910.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Black Literacy in 1910 — census1910","text":"Gary King, 1997, \"Replication data : Solution Ecological Inference Problem: Reconstructing Individual Behavior Aggregate Data\", http://hdl.handle.net/1902.1/LWMMKUTYXS UNF:3:DRWozWd89+vNLO7lY2AHbg== IQSS Dataverse Network [Distributor] V3 [Version]","code":""},{"path":"https://iqss-research.github.io/ei/reference/census1910.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Black Literacy in 1910 — census1910","text":"Gary King. (1997). Solution Ecological Inference Problem. Princeton: Princeton University Press.  Section 13.2:241-5. Robinson, William S.  (1950).  ``Ecological Correlation Behavior Individuals.'' American Sociological Review 15:351-357.","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.bounds.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes Analytical Bounds from Accounting Identity — ei.bounds","title":"Computes Analytical Bounds from Accounting Identity — ei.bounds","text":"Returns analytical bounds accounting identity unknown table relationships beta_b, beta_w, known, observed, table marginals, x, t (sample size n).","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.bounds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes Analytical Bounds from Accounting Identity — ei.bounds","text":"","code":"ei.bounds(x, t, n)"},{"path":"https://iqss-research.github.io/ei/reference/ei.bounds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes Analytical Bounds from Accounting Identity — ei.bounds","text":"x vector characteristics, e.g. percentage blacks district t vector characteristics, e.g. percentage people voted district n size observation, e.g. number voters district","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.bounds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computes Analytical Bounds from Accounting Identity — ei.bounds","text":"TODO","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.bounds.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Computes Analytical Bounds from Accounting Identity — ei.bounds","text":"Gary King (1997). Solution Ecological Inference Problem.  Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.bounds.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Computes Analytical Bounds from Accounting Identity — ei.bounds","text":"Gary King <<email: king@harvard.edu>> Molly Roberts <<email: molly.e.roberts@gmail.com>>","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.bounds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Computes Analytical Bounds from Accounting Identity — ei.bounds","text":"","code":"data(census1910) output <- ei.bounds(x = census1910$x, t = census1910$t, n = census1910$n)"},{"path":"https://iqss-research.github.io/ei/reference/ei.html","id":null,"dir":"Reference","previous_headings":"","what":"Ecological Inference Estimation — ei","title":"Ecological Inference Estimation — ei","text":"ei main command package EI.  gives observation-level estimates (various related statistics) \\(\\beta_i^b\\) \\(\\beta_i^w\\) given variables \\(T_i\\) \\(X_i\\) (\\(=1,...,n\\)) accounting identity: \\(T_i=\\beta_i^b*X_i + \\beta_i^w*(1-X_i)\\).  Results stored ei object, can read summary() eiread() graphed plot().","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ecological Inference Estimation — ei","text":"","code":"ei(   formula,   total = NULL,   Zb = 1,   Zw = 1,   id = NA,   data = NA,   erho = c(0.5, 3, 5, 0.1, 10),   esigma = 0.5,   ebeta = 0.5,   ealphab = NA,   ealphaw = NA,   truth = NA,   simulate = TRUE,   covariate = NULL,   lambda1 = 4,   lambda2 = 2,   covariate.prior.list = NULL,   tune.list = NULL,   start.list = NULL,   sample = 1000,   thin = 1,   burnin = 1000,   verbose = 0,   ret.beta = \"r\",   ret.mcmc = TRUE,   usrfun = NULL )"},{"path":"https://iqss-research.github.io/ei/reference/ei.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ecological Inference Estimation — ei","text":"formula formula form \\(t ~x\\) \\(2x2\\) case \\(cbind(col1,col2,...) ~ cbind(row1,row2,...)\\) RxC case. total `total' name variable dataset contains number individuals unit Zb \\(p\\) x \\(k^b\\) matrix covariates name covariates dataset Zw \\(p\\) x \\(k^w\\) matrix covariates name covariates dataset id `id' name variable dataset identifies precinct. Used `movie' `movieD' plot functions. data data frame contains variables correspond formula.  using covariates data specified, data also contain Zb Zw. erho standard deviation normal prior \\(\\phi_5\\) correlation. Numeric vector, used one time, order. Default `c(.5, 3, 5, .1, 10)`. esigma standard deviation underlying normal distribution, half normal constructed prior \\(\\breve{\\sigma}_b\\) \\(\\breve{\\sigma}_w\\). Default \\(= 0.5\\) ebeta Standard deviation \"flat normal\" prior \\(\\breve{B}^b\\) \\(\\breve{B}^w\\).  flat normal prior uniform within unit square dropping outside square according normal distribution.  Set zero prior. Setting positive values probabilistically keeps estimated mode within unit square. Default\\(=0.5\\) ealphab cols(Zb) x 2 matrix means (first column) standard deviations (second) independent normal prior distribution elements \\(\\alpha^b\\).  specify Zb, probably specify prior, least mean zero variance (default prior).  (See Equation 9.2, page 170, interpret \\(\\alpha^b\\)). ealphaw cols(Zw) x 2 matrix means (first column) standard deviations (second) independent normal prior distribution elements \\(\\alpha^w\\).  specify Zw, probably specify prior, least mean zero variance (default prior).  (See Equation 9.2, page 170, interpret \\(\\alpha^w\\)). truth length(t) x 2 matrix true values quantities interest. simulate default = TRUE:see documentation eiPack options RxC ei. covariate see documentation eiPack options RxC ei. lambda1 default = 4:see documentation eiPack options RxC ei. lambda2 default = 2:see documentation eiPack options RxC ei. covariate.prior.list see documentation eiPack options RxC ei. tune.list see documentation eiPack options RxC ei. start.list see documentation eiPack options RxC ei. sample default = 1000 thin default = 1 burnin default = 1000 verbose default = 0:see documentation eiPack options RxC ei. ret.beta default = \"r\": see documentation eiPack options RxC ei. ret.mcmc default = TRUE: see documentation eiPack options RxC ei. usrfun see documentation eiPack options RxC ei.","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ecological Inference Estimation — ei","text":"TODO","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Ecological Inference Estimation — ei","text":"EI algorithm run using ei command.  summary results can seen graphically using plot(ei.object) numerically using summary(ei.object).  Quantities interest can calculated using eiread(ei.object).","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Ecological Inference Estimation — ei","text":"Gary King (1997). Solution Ecological Inference Problem.  Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Ecological Inference Estimation — ei","text":"Gary King <<email: king@harvard.edu>> Molly Roberts <<email: molly.e.roberts@gmail.com>>","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ecological Inference Estimation — ei","text":"","code":"data(sample_ei) form <- t ~ x dbuf <- ei(form, total = \"n\", data = sample_ei) #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ✔ Running 2x2 ei [1.2s] #>  #> ⠙ Beginning importance sampling. #> ✔ Beginning importance sampling. [2.9s] #>  summary(dbuf) #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #>  #> ── Erho ── #>  #> 0.1 #>  #>  #> ── Esigma ── #>  #> 0.5 #>  #>  #> ── Ebeta ── #>  #> 0.5 #>  #>  #> ── N ── #>  #> 75 #>  #>  #> ── Resamp ── #>  #> 20 #>  #>  #> ── Maximum likelihood results in scale of estimation (and se's) ── #>  #>         Bb0       Bw0       sigB       sigW        rho Zb0 Zw0 #>  -1.1605918 0.8264157 -2.1410777 -1.8073480 0.03161319   0   0 #>   0.1175759 0.1130699  0.2519238  0.1606003 0.09794052   0   0 #>  #>  #> ── Untruncated psi's ── #>  #>         BB        BW        SB        SW        RHO #>  0.1856131 0.7311799 0.1260158 0.1632202 0.02686819 #>  #>  #> ── Truncated psi's (ultimate scale) ── #>  #>         BB        BW        SB        SW        RHO #>  0.2074146 0.7120096 0.1106254 0.1471171 0.06194091 #>  #>  #> ── Aggregate Bounds ── #>  #>            betab     betaw #> lower 0.09549504 0.3979843 #> upper 0.60893461 0.8031228 #>  #>  #> ── Estimates of Aggregate Quantities of Interest ── #>  #>         mean          sd #> Bb 0.2058668 0.011071773 #> Bw 0.7160320 0.008736377 #>  #>  #> ── Precision ── #>  #> 4 #>"},{"path":"https://iqss-research.github.io/ei/reference/ei.sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate EI Solution via Importance Sampling — ei.sim","title":"Simulate EI Solution via Importance Sampling — ei.sim","text":"Simulate EI Solution via Importance Sampling","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate EI Solution via Importance Sampling — ei.sim","text":"","code":"ei.sim(ei.object, ndraws = 99, nsims = 100)"},{"path":"https://iqss-research.github.io/ei/reference/ei.sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate EI Solution via Importance Sampling — ei.sim","text":"ei.object ei object ndraws integer. number draws. nsims integer. number simulations within draw.","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate EI Solution via Importance Sampling — ei.sim","text":"TODO","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.sim.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Simulate EI Solution via Importance Sampling — ei.sim","text":"Gary King (1997). Solution Ecological Inference Problem.  Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.sim.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Simulate EI Solution via Importance Sampling — ei.sim","text":"Gary King <<email: king@harvard.edu>> Molly Roberts <<email: molly.e.roberts@gmail.com>>","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei.sim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate EI Solution via Importance Sampling — ei.sim","text":"","code":"data(sample_ei) form <- t ~ x ei_obj <- ei(form, total = \"n\", data = sample_ei, simulate = FALSE) #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ✔ Running 2x2 ei [1.1s] #>  sims <- ei.sim(ei_obj) #> ⠙ Beginning importance sampling. #> ✔ Beginning importance sampling. [4.7s] #>"},{"path":"https://iqss-research.github.io/ei/reference/eiRxCsample.html","id":null,"dir":"Reference","previous_headings":"","what":"RxC Sample Dataset — eiRxCsample","title":"RxC Sample Dataset — eiRxCsample","text":"description dataset","code":""},{"path":"https://iqss-research.github.io/ei/reference/eiRxCsample.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"RxC Sample Dataset — eiRxCsample","text":"data frame containing 93 observations.","code":""},{"path":"https://iqss-research.github.io/ei/reference/eiRxCsample.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"RxC Sample Dataset — eiRxCsample","text":"Source","code":""},{"path":"https://iqss-research.github.io/ei/reference/eiRxCsample.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"RxC Sample Dataset — eiRxCsample","text":"Gary King (1997). Solution Ecological Inference Problem. Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_.html","id":null,"dir":"Reference","previous_headings":"","what":"Run (tidy) Ecological Inference Estimation and Simulation — ei_","title":"Run (tidy) Ecological Inference Estimation and Simulation — ei_","text":"Run (tidy) Ecological Inference Estimation Simulation","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run (tidy) Ecological Inference Estimation and Simulation — ei_","text":"","code":"ei_(   data,   x,   t,   n,   Zb = NULL,   Zw = NULL,   id = NA,   erho = c(0.5, 3, 5, 0.1, 10),   esigma = 0.5,   ebeta = 0.5,   ealphab = NA,   ealphaw = NA,   truth = NA,   simulate = TRUE,   covariate = NULL,   lambda1 = 4,   lambda2 = 2,   covariate.prior.list = NULL,   tune.list = NULL,   start.list = NULL,   sample = 1000,   thin = 1,   burnin = 1000,   verbose = 0,   ret.beta = \"r\",   ret.mcmc = TRUE,   usrfun = NULL )"},{"path":"https://iqss-research.github.io/ei/reference/ei_.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run (tidy) Ecological Inference Estimation and Simulation — ei_","text":"data data `x`, `t`, `total`, `Zb`, `Zw` found x <[`data-masking`][dplyr_data_masking]> column subgroup proportions data t <[`data-masking`][dplyr_data_masking]> column turnout data n <[`data-masking`][dplyr_data_masking]> column total data Zb <[`data-masking`][dplyr_tidy_select]> columns covariates data Zw <[`data-masking`][dplyr_tidy_select]> columns covariates data id <[`data-masking`][dplyr_data_masking]> column unique ids data erho standard deviation normal prior \\(\\phi_5\\) correlation. Numeric vector, used one time, order. Default `c(.5, 3, 5, .1, 10)`. esigma standard deviation underlying normal distribution, half normal constructed prior \\(\\breve{\\sigma}_b\\) \\(\\breve{\\sigma}_w\\). Default \\(= 0.5\\) ebeta Standard deviation \"flat normal\" prior \\(\\breve{B}^b\\) \\(\\breve{B}^w\\).  flat normal prior uniform within unit square dropping outside square according normal distribution.  Set zero prior. Setting positive values probabilistically keeps estimated mode within unit square. Default\\(=0.5\\) ealphab cols(Zb) x 2 matrix means (first column) standard deviations (second) independent normal prior distribution elements \\(\\alpha^b\\).  specify Zb, probably specify prior, least mean zero variance (default prior).  (See Equation 9.2, page 170, interpret \\(\\alpha^b\\)). ealphaw cols(Zw) x 2 matrix means (first column) standard deviations (second) independent normal prior distribution elements \\(\\alpha^w\\).  specify Zw, probably specify prior, least mean zero variance (default prior).  (See Equation 9.2, page 170, interpret \\(\\alpha^w\\)). truth length(t) x 2 matrix true values quantities interest. simulate default = TRUE:see documentation eiPack options RxC ei. covariate see documentation eiPack options RxC ei. lambda1 default = 4:see documentation eiPack options RxC ei. lambda2 default = 2:see documentation eiPack options RxC ei. covariate.prior.list see documentation eiPack options RxC ei. tune.list see documentation eiPack options RxC ei. start.list see documentation eiPack options RxC ei. sample default = 1000 thin default = 1 burnin default = 1000 verbose default = 0:see documentation eiPack options RxC ei. ret.beta default = \"r\": see documentation eiPack options RxC ei. ret.mcmc default = TRUE: see documentation eiPack options RxC ei. usrfun see documentation eiPack options RxC ei.","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run (tidy) Ecological Inference Estimation and Simulation — ei_","text":"ei_tbl","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run (tidy) Ecological Inference Estimation and Simulation — ei_","text":"","code":"data(sample_ei) dbuf <- ei_(sample_ei, x, t, n) #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ✔ Running 2x2 ei [1.4s] #>  #> ⠙ Beginning importance sampling. #> ✔ Beginning importance sampling. [3.3s] #>"},{"path":"https://iqss-research.github.io/ei/reference/ei_est.html","id":null,"dir":"Reference","previous_headings":"","what":"Run (tidy) Ecological Inference Estimation — ei_est","title":"Run (tidy) Ecological Inference Estimation — ei_est","text":"Run (tidy) Ecological Inference Estimation","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_est.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run (tidy) Ecological Inference Estimation — ei_est","text":"","code":"ei_est(   data,   t,   x,   n,   id = seq_len(nrow(data)),   Zb = NULL,   Zw = NULL,   erho = 0.5,   esigma = 0.5,   ebeta = 0.5,   ealphab = NA,   ealphaw = NA,   truth = NA )"},{"path":"https://iqss-research.github.io/ei/reference/ei_est.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run (tidy) Ecological Inference Estimation — ei_est","text":"data data `x`, `t`, `total`, `Zb`, `Zw` found t <[`data-masking`][dplyr_data_masking]> column turnout data x <[`data-masking`][dplyr_data_masking]> column subgroup proportions data n <[`data-masking`][dplyr_data_masking]> column total data id <[`data-masking`][dplyr_data_masking]> column unique ids data Zb <[`data-masking`][dplyr_tidy_select]> columns covariates data Zw <[`data-masking`][dplyr_tidy_select]> columns covariates data erho standard deviation normal prior \\(\\phi_5\\) correlation. Numeric vector, used one time, order. Default `c(.5, 3, 5)`. esigma standard deviation underlying normal distribution, half normal constructed prior \\(\\breve{\\sigma}_b\\) \\(\\breve{\\sigma}_w\\). Default \\(= 0.5\\) ebeta Standard deviation \"flat normal\" prior \\(\\breve{B}^b\\) \\(\\breve{B}^w\\).  flat normal prior uniform within unit square dropping outside square according normal distribution.  Set zero prior. Setting positive values probabilistically keeps estimated mode within unit square. Default\\(=0.5\\) ealphab cols(Zb) x 2 matrix means (first column) standard deviations (second) independent normal prior distribution elements \\(\\alpha^b\\).  specify Zb, probably specify prior, least mean zero variance (default prior).  (See Equation 9.2, page 170, interpret \\(\\alpha^b\\)). ealphaw cols(Zw) x 2 matrix means (first column) standard deviations (second) independent normal prior distribution elements \\(\\alpha^w\\).  specify Zw, probably specify prior, least mean zero variance (default prior).  (See Equation 9.2, page 170, interpret \\(\\alpha^w\\)). truth length(t) x 2 matrix true values quantities interest.","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_est.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run (tidy) Ecological Inference Estimation — ei_est","text":"ei_tbl","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_est.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run (tidy) Ecological Inference Estimation — ei_est","text":"","code":"data(sample_ei) dbuf <- ei_est(sample_ei, x, t, n) #> ℹ Maximizing likelihood"},{"path":"https://iqss-research.github.io/ei/reference/ei_sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Run Ecological Inference Simulation — ei_sim","title":"Run Ecological Inference Simulation — ei_sim","text":"Run Ecological Inference Simulation","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run Ecological Inference Simulation — ei_sim","text":"","code":"ei_sim(data, ndraws = 99, nsims = 100)"},{"path":"https://iqss-research.github.io/ei/reference/ei_sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run Ecological Inference Simulation — ei_sim","text":"data `ei_tbl` object `ei_est()` ndraws integer, default 99. number draws. nsims integer, default 10. number simulations draw.","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run Ecological Inference Simulation — ei_sim","text":"ei_tbl","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_sim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run Ecological Inference Simulation — ei_sim","text":"","code":"data(sample_ei) dbuf <- ei_est(sample_ei, x, t, n) %>% ei_sim() #> ℹ Maximizing likelihood #> ⠙ Beginning importance sampling. #> ✔ Beginning importance sampling. [2.1s] #>"},{"path":"https://iqss-research.github.io/ei/reference/ei_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to `ei_tbl` objects — as_ei_tbl","title":"Convert to `ei_tbl` objects — as_ei_tbl","text":"Convert `ei_tbl` objects","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to `ei_tbl` objects — as_ei_tbl","text":"","code":"as_ei_tbl(x)  ei_as_ei_tbl(ei.object)"},{"path":"https://iqss-research.github.io/ei/reference/ei_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to `ei_tbl` objects — as_ei_tbl","text":"x object coerced ei.object list-based ei object convert tibble-based object","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to `ei_tbl` objects — as_ei_tbl","text":"ei_tbl object","code":""},{"path":"https://iqss-research.github.io/ei/reference/ei_tbl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert to `ei_tbl` objects — as_ei_tbl","text":"","code":"data(sample_ei) form <- t ~ x dbuf <- ei(form, total = \"n\", data = sample_ei) #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ✔ Running 2x2 ei [1.1s] #>  #> ⠙ Beginning importance sampling. #> ✔ Beginning importance sampling. [2.4s] #>  dbuf <- ei_as_ei_tbl(dbuf)"},{"path":"https://iqss-research.github.io/ei/reference/eiread.html","id":null,"dir":"Reference","previous_headings":"","what":"Quantities of Interest from Ecological Inference Estimation — eiread","title":"Quantities of Interest from Ecological Inference Estimation — eiread","text":"eiread command pulls quantities interest ei object.  command returns list quantities interest requested user.","code":""},{"path":"https://iqss-research.github.io/ei/reference/eiread.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Quantities of Interest from Ecological Inference Estimation — eiread","text":"","code":"eiread(ei.object, ...)"},{"path":"https://iqss-research.github.io/ei/reference/eiread.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Quantities of Interest from Ecological Inference Estimation — eiread","text":"ei.object ei object function ei. ... list quantities interest eiread() return. See values .","code":""},{"path":"https://iqss-research.github.io/ei/reference/eiread.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Quantities of Interest from Ecological Inference Estimation — eiread","text":"betab \\(p\\) x \\(1\\) point estimate \\(\\beta_i^b\\) based mean posterior.  See section 8.2 betaw \\(p\\) x \\(1\\) point estimate \\(\\beta_i^w\\) based mean posterior.  See section 8.2 sbetab \\(p\\) x \\(1\\) standard error estimate \\(\\beta_i^b\\), based standard deviation posterior.  See section 8.2 sbetaw \\(p\\) x \\(1\\) standard error estimate \\(\\beta_i^w\\), based standard deviation posterior.  See section 8.2 phi Maximum posterior estimates CML psisims Matrix random simulations \\(\\psi\\).  See section 8.2 bounds \\(p\\) x \\(4\\): bounds \\(\\beta_i^b\\) \\(\\beta_i^w\\), lowerB ~ upperB ~ lowerW ~ upperW.  See Chapter 5. abounds \\(2\\) x \\(2\\): aggregate bounds rows:lower, upper; columns: betab, betaw.  See Chapter 5. aggs Simulations district-level quantities interest \\(\\hat{B^b}\\) \\(\\hat{B^w}\\). See Section 8.3. maggs Point estimate 2 district-level parameters, \\(\\hat{B^b}\\) \\(\\hat{B^w}\\) based mean aggs. See Section 8.3. VCaggs Variance matrix 2 district-level parameters, \\(\\hat{B^b}\\) \\(\\hat{B^w}\\).  See Section 8.3. CI80b \\(p\\) x \\(2\\): lower~upper \\(80\\%\\) confidence intervals \\(\\beta_i^b\\).  See section 8.2. CI80w \\(p\\) x \\(2\\): lower~upper \\(80\\%\\) confidence intervals \\(\\beta_i^w\\).  See section 8.2. eaggbias Regressions estimated \\(\\beta_i^b\\) \\(\\beta_i^w\\) constant term \\(X_i\\). goodman Goodman's Regression.  See Section 3.1 TODO","code":""},{"path":"https://iqss-research.github.io/ei/reference/eiread.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Quantities of Interest from Ecological Inference Estimation — eiread","text":"Gary King (1997). Solution Ecological Inference Problem.  Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/eiread.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Quantities of Interest from Ecological Inference Estimation — eiread","text":"Gary King <<email: king@harvard.edu>> Molly Roberts <<email: molly.e.roberts@gmail.com>>","code":""},{"path":"https://iqss-research.github.io/ei/reference/eiread.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Quantities of Interest from Ecological Inference Estimation — eiread","text":"","code":"data(sample_ei) formula <- t ~ x dbuf <- ei(formula = formula, total = \"n\", data = sample_ei) #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ✔ Running 2x2 ei [1.1s] #>  #> ⠙ Beginning importance sampling. #> ✔ Beginning importance sampling. [3.4s] #>  eiread(dbuf, \"phi\") #> [1] -1.1606  0.8264 -2.1411 -1.8074  0.0316  0.0000  0.0000 eiread(dbuf, \"betab\", \"betaw\") #> $betab #>  [1] 0.2203 0.1401 0.1895 0.2833 0.1452 0.1676 0.1101 0.0967 0.1975 0.2364 #> [11] 0.2014 0.2232 0.1810 0.2002 0.1890 0.2049 0.2841 0.1622 0.1517 0.1005 #> [21] 0.3372 0.2266 0.2348 0.2012 0.4150 0.1757 0.1930 0.4119 0.2260 0.2152 #> [31] 0.2070 0.1686 0.1800 0.2090 0.2165 0.1603 0.1894 0.3864 0.2256 0.2657 #> [41] 0.2077 0.1965 0.1929 0.1046 0.1151 0.1520 0.2253 0.1998 0.1213 0.1535 #> [51] 0.2363 0.1687 0.2358 0.1975 0.2200 0.1894 0.2207 0.2545 0.2768 0.2021 #> [61] 0.2149 0.1370 0.2387 0.1849 0.1186 0.1691 0.1819 0.3968 0.2259 0.0411 #> [71] 0.2772 0.1569 0.2046 0.1818 0.3106 #>  #> $betaw #>  [1] 0.6900 0.6611 0.6236 0.8838 0.5550 0.3730 0.5139 0.5639 0.7892 0.9039 #> [11] 0.5831 0.9282 0.5943 0.7383 0.7637 0.7071 0.7466 0.7183 0.6804 0.6984 #> [21] 0.8601 0.8743 0.7980 0.7177 0.7803 0.6222 0.5619 0.9449 0.7132 0.7632 #> [31] 0.7756 0.7210 0.6919 0.9281 0.7760 0.5911 0.6779 0.7743 0.7538 0.8184 #> [41] 0.6448 0.7029 0.7358 0.6599 0.5468 0.4768 0.7177 0.7712 0.6949 0.6150 #> [51] 0.8818 0.6700 0.7332 0.7540 0.8866 0.6713 0.8563 0.7565 0.8442 0.7111 #> [61] 0.7063 0.6780 0.7193 0.5891 0.6191 0.6622 0.5348 0.8468 0.7027 0.4894 #> [71] 0.7467 0.7152 0.6796 0.4654 0.9732 #>"},{"path":"https://iqss-research.github.io/ei/reference/fultongen.html","id":null,"dir":"Reference","previous_headings":"","what":"Voter Transitions — fultongen","title":"Voter Transitions — fultongen","text":"Aggregated data 289 precincts Fulton County, Georgia.  variable t represents fraction voting 1994 x fraction 1992.  Beta_b fraction vote elections, Beta_w fraction nonvoters 1992 vote midterm election 1994.","code":""},{"path":"https://iqss-research.github.io/ei/reference/fultongen.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Voter Transitions — fultongen","text":"data frame containing 289 observations.","code":""},{"path":"https://iqss-research.github.io/ei/reference/fultongen.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Voter Transitions — fultongen","text":"Gary King, 1997, \"Replication data : Solution Ecological Inference Problem: Reconstructing Individual Behavior Aggregate Data\", http://hdl.handle.net/1902.1/LWMMKUTYXS UNF:3:DRWozWd89+vNLO7lY2AHbg== IQSS Dataverse Network [Distributor] V3 [Version]","code":""},{"path":"https://iqss-research.github.io/ei/reference/fultongen.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Voter Transitions — fultongen","text":"Gary King (1997). Solution Ecological Inference Problem. Princeton: Princeton University Press.  Section 13.1:235-41.","code":""},{"path":"https://iqss-research.github.io/ei/reference/lavoteall.html","id":null,"dir":"Reference","previous_headings":"","what":"Turnout by Race in Louisiana — lavoteall","title":"Turnout by Race in Louisiana — lavoteall","text":"fraction blacks registered voters (x) fraction voter turnout (t) Louisiana precinct, along true fraction black turnout (tb) non-black turnout (tw).","code":""},{"path":"https://iqss-research.github.io/ei/reference/lavoteall.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Turnout by Race in Louisiana — lavoteall","text":"data frame containing 3262 observations.","code":""},{"path":"https://iqss-research.github.io/ei/reference/lavoteall.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Turnout by Race in Louisiana — lavoteall","text":"Gary King, 1997, \"Replication data : Solution Ecological Inference Problem: Reconstructing Individual Behavior Aggregate Data\", http://hdl.handle.net/1902.1/LWMMKUTYXS UNF:3:DRWozWd89+vNLO7lY2AHbg== IQSS Dataverse Network [Distributor] V3 [Version]","code":""},{"path":"https://iqss-research.github.io/ei/reference/lavoteall.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Turnout by Race in Louisiana — lavoteall","text":"Gary King (1997). Solution Ecological Inference Problem. Princeton: Princeton University Press.  Section 1.4:22-4.","code":""},{"path":"https://iqss-research.github.io/ei/reference/matproii.html","id":null,"dir":"Reference","previous_headings":"","what":"Voter Registration by Race in Southern States — matproii","title":"Voter Registration by Race in Southern States — matproii","text":"Aggregate voter registration fraction black, counties Florida, Louisiana, North Carolina South Carolina","code":""},{"path":"https://iqss-research.github.io/ei/reference/matproii.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Voter Registration by Race in Southern States — matproii","text":"data frame containing 268 observations.","code":""},{"path":"https://iqss-research.github.io/ei/reference/matproii.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Voter Registration by Race in Southern States — matproii","text":"Gary King, 1997, \"Replication data : Solution Ecological Inference Problem: Reconstructing Individual Behavior Aggregate Data\", http://hdl.handle.net/1902.1/LWMMKUTYXS UNF:3:DRWozWd89+vNLO7lY2AHbg== IQSS Dataverse Network [Distributor] V3 [Version]","code":""},{"path":"https://iqss-research.github.io/ei/reference/matproii.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Voter Registration by Race in Southern States — matproii","text":"Gary King (1997). Solution Ecological Inference Problem. Princeton: Princeton University Press.  Chapter 10.","code":""},{"path":"https://iqss-research.github.io/ei/reference/nj.html","id":null,"dir":"Reference","previous_headings":"","what":"Nonminority Turnout in New Jersey — nj","title":"Nonminority Turnout in New Jersey — nj","text":"description dataset","code":""},{"path":"https://iqss-research.github.io/ei/reference/nj.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Nonminority Turnout in New Jersey — nj","text":"data frame containing 493 observations.","code":""},{"path":"https://iqss-research.github.io/ei/reference/nj.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Nonminority Turnout in New Jersey — nj","text":"Gary King, 1997, \"Replication data : Solution Ecological Inference Problem: Reconstructing Individual Behavior Aggregate Data\", http://hdl.handle.net/1902.1/LWMMKUTYXS UNF:3:DRWozWd89+vNLO7lY2AHbg== IQSS Dataverse Network [Distributor] V3 [Version]","code":""},{"path":"https://iqss-research.github.io/ei/reference/nj.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Nonminority Turnout in New Jersey — nj","text":"Gary King (1997). Solution Ecological Inference Problem. Princeton: Princeton University Press.  Section 1.4:24-5.","code":""},{"path":"https://iqss-research.github.io/ei/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://iqss-research.github.io/ei/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://iqss-research.github.io/ei/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://iqss-research.github.io/ei/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling `rhs(lhs)`.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot.ei.html","id":null,"dir":"Reference","previous_headings":"","what":"Plotting Ecological Inference Estimates — plot.ei","title":"Plotting Ecological Inference Estimates — plot.ei","text":"`plot' method class `ei'.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot.ei.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plotting Ecological Inference Estimates — plot.ei","text":"","code":"# S3 method for ei plot(x, ...)"},{"path":"https://iqss-research.github.io/ei/reference/plot.ei.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plotting Ecological Inference Estimates — plot.ei","text":"x ei object function ei. ... list options return graphs.  See values .","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot.ei.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plotting Ecological Inference Estimates — plot.ei","text":"tomogD Tomography plot data .  See Figure 5.1, page 81. tomog Tomography plot ML contours.  See Figure 10.2, page 204. tomogCI Tomography plot \\(80\\%\\) confidence intervals.  Confidence intervals appear screen red remainder tomography line yellow.  confidence interval portion also printed thicker rest line.  See Figure 9.5, page 179. tomogCI95 Tomography plot \\(95\\%\\) confidence intervals. Confidence intervals appear screen red remainder tomography line yellow.  confidence interval portion also printed thicker rest line.  See Figure 9.5, page 179. tomogE Tomography plot estimated mean posterior \\(\\beta_i^b\\) \\(\\beta_i^w\\) points. tomogP Tomography plot mean posterior contours. betab Density estimate (.e., smooth version histogram) point estimates \\(\\beta_i^b\\)'s whiskers. betaw Density estimate (.e., smooth version histogram) point estimates \\(\\beta_i^w\\)'s whiskers. xt Basic \\(X_i\\) \\(T_i\\) scatterplot. xtc Basic \\(X_i\\) \\(T_i\\) scatterplot circles sized proportional \\(N_i\\). xtfit \\(X_i\\) \\(T_i\\) plot estimated \\(E(T_i|X_i)\\) conditional \\(80\\%\\) confidence intervals.  See Figure 10.3, page 206. xtfitg xtfit Goodman's regression line superimposed. estsims simulated \\(\\beta_i^b\\)'s simulated \\(\\beta_i^w\\)'s.  simulations take roughly shape mean posterior contours, except sampled outlier tomography lines. boundXb \\(X_i\\) bounds \\(\\beta_i^b\\) (precinct appears one vertical line), see lines left graph Figure 13.2, page 238. boundXw \\(X_i\\) bounds \\(\\beta_i^w\\) (precinct appears one vertical line), see lines right graph Figure 13.2, page 238. truth Compares truth estimates district precinct-level.  Requires truth ei object.  See Figures 10.4 (page 208) 10.5 (page 210). movieD observation, one tomography plot appears line particular observation darkened.  graph observation appears, user can choose view next observation (hit return), jump specific observation number (type number hit return), stop (hit \"s\" return). movie observation, one page graphics appears posterior distribution \\(\\beta_i^b\\) \\(\\beta_i^w\\) plot simulated values \\(\\beta_i^b\\) \\(\\beta_i^w\\) tomography line.  user can choose view next observation (hit return), jump specific observation number (type number hit return), stop (hit ``s\" return). TODO","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot.ei.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plotting Ecological Inference Estimates — plot.ei","text":"Returns set possible graphical objects, mirroring examples King (1997).  Graphical option lci logical value specifying use Law Conservation Ink, implicit information data represented color gradients, .e. color line function length tomography line.  can passed argument used ``tomogD'' ``tomog'' plots.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot.ei.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Plotting Ecological Inference Estimates — plot.ei","text":"Gary King (1997). Solution Ecological Inference Problem.  Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot.ei.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plotting Ecological Inference Estimates — plot.ei","text":"Gary King <<email: king@harvard.edu>> Molly Roberts <<email: molly.e.roberts@gmail.com>>","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot.ei.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plotting Ecological Inference Estimates — plot.ei","text":"","code":"data(sample_ei) formula <- t ~ x dbuf <- ei(formula = formula, total = \"n\", data = sample_ei) #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ✔ Running 2x2 ei [1.1s] #>  #> ⠙ Beginning importance sampling. #> ✔ Beginning importance sampling. [1.3s] #>  plot(dbuf, \"tomog\") #> Warning: `plot()` was deprecated in ei 2.0.0. #> Please check our reference for new functions: https://iqss-research.github.io/ei/reference/index.html #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated. plot(dbuf, \"tomog\", \"betab\", \"betaw\", \"xtfit\")"},{"path":"https://iqss-research.github.io/ei/reference/plot_bound.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualizing EI (bound) — plot_bound","title":"Visualizing EI (bound) — plot_bound","text":"Visualizing EI (bound)","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_bound.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualizing EI (bound) — plot_bound","text":"","code":"plot_bound(ei.object, options = list())"},{"path":"https://iqss-research.github.io/ei/reference/plot_bound.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualizing EI (bound) — plot_bound","text":"ei.object output ei() (used truth argument) options list options parameter: parameter plot. takes either betab betaw. option 2x2 case.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_bound.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualizing EI (bound) — plot_bound","text":"ggplot object","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_bound.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualizing EI (bound) — plot_bound","text":"","code":"# 2x2 data(matproii) truth <- cbind(matproii$tb, matproii$tw) suppressMessages({   ei_res <- ei(formula = t ~ x, total = \"n\", truth = truth, data = matproii) }) plot_bound(ei_res, options = list(parameter = \"betab\"))  plot_bound(ei_res, options = list(parameter = \"betaw\"))  # RxC data(RxCdata) formula <- cbind(turnout, noturnout) ~ cbind(white, black, hisp) suppressMessages({   ei_resRxC <- ei(formula, data = RxCdata) }) plot_bound(ei_resRxC)"},{"path":"https://iqss-research.github.io/ei/reference/plot_density.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualizing EI (density) — plot_density","title":"Visualizing EI (density) — plot_density","text":"Visualizing EI (density)","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_density.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualizing EI (density) — plot_density","text":"","code":"plot_density(ei.object, options = list(parameter = \"betab\"))"},{"path":"https://iqss-research.github.io/ei/reference/plot_density.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualizing EI (density) — plot_density","text":"ei.object output ei() options list options parameter: parameter plot. takes either betab betaw.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_density.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualizing EI (density) — plot_density","text":"ggplot object","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_density.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualizing EI (density) — plot_density","text":"","code":"data(matproii) suppressMessages({   ei_res <- ei(formula = t ~ x, total = \"n\", data = matproii) }) plot_density(ei_res, options = list(parameter = \"betab\"))  plot_density(ei_res, options = list(parameter = \"betaw\"))"},{"path":"https://iqss-research.github.io/ei/reference/plot_movie.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualizing EI (Shiny visualization) — plot_movie","title":"Visualizing EI (Shiny visualization) — plot_movie","text":"Visualizing EI (Shiny visualization)","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_movie.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualizing EI (Shiny visualization) — plot_movie","text":"","code":"plot_movie(ei.object)"},{"path":"https://iqss-research.github.io/ei/reference/plot_movie.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualizing EI (Shiny visualization) — plot_movie","text":"ei.object output ei()","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_sims.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualizing EI (simulation) — plot_sims","title":"Visualizing EI (simulation) — plot_sims","text":"Visualizing EI (simulation)","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_sims.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualizing EI (simulation) — plot_sims","text":"","code":"plot_sims(ei.object)"},{"path":"https://iqss-research.github.io/ei/reference/plot_sims.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualizing EI (simulation) — plot_sims","text":"ei.object output ei()","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_sims.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualizing EI (simulation) — plot_sims","text":"ggplot object","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_sims.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualizing EI (simulation) — plot_sims","text":"","code":"data(matproii) suppressMessages({   ei_res <- ei(formula = t ~ x, total = \"n\", data = matproii) }) plot_sims(ei_res)"},{"path":"https://iqss-research.github.io/ei/reference/plot_tomog.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualizing EI (tomography plot) — plot_tomog","title":"Visualizing EI (tomography plot) — plot_tomog","text":"Tomography plot various opitons.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_tomog.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualizing EI (tomography plot) — plot_tomog","text":"","code":"plot_tomog(   ei.object,   options = list(color = TRUE, linecolor = \"length\", category = 0, breaks = \"even\", CI     = NULL, points = FALSE, contour_ML = FALSE, contour_posterior = FALSE) )"},{"path":"https://iqss-research.github.io/ei/reference/plot_tomog.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualizing EI (tomography plot) — plot_tomog","text":"ei.object output ei() options list options color: Change line color linecolor option. linecolor: Focus line color, options length, betab, betaw. category: Categorize values color lines. default value 0 means categorize values. creating categories, uses option breaks. breaks: create categories. Options even quantile. CI: Tomography plot confidence intervals. default value 0.8 (80 points: Tomography plot estimated mean posterior \\(\\beta_i^b\\) \\(\\beta_i^w\\) points. contour_ML: Tomography plot ML contours. contour_posterior: Tomography plot mean posterior contours.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_tomog.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualizing EI (tomography plot) — plot_tomog","text":"ggplot object","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_tomog.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualizing EI (tomography plot) — plot_tomog","text":"","code":"data(matproii) suppressMessages({   ei_res <- ei(formula = t ~ x, total = \"n\", data = matproii) }) plot_tomog(ei_res)  plot_tomog(ei_res, options = list(linecolor = \"betab\"))  plot_tomog(ei_res, options = list(linecolor = \"betaw\", category = 5))  plot_tomog(ei_res, options = list(CI = 0.8))  plot_tomog(ei_res, options = list(points = TRUE, contour_ML = TRUE))"},{"path":"https://iqss-research.github.io/ei/reference/plot_tomogRxC.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualizing EI (tomography plot for RxC) — plot_tomogRxC","title":"Visualizing EI (tomography plot for RxC) — plot_tomogRxC","text":"tomography plot estimated Ecological Inference model RxC data.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_tomogRxC.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualizing EI (tomography plot for RxC) — plot_tomogRxC","text":"","code":"plot_tomogRxC(formula, data, total = NULL)"},{"path":"https://iqss-research.github.io/ei/reference/plot_tomogRxC.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualizing EI (tomography plot for RxC) — plot_tomogRxC","text":"formula formula form cbind(col1, col2,...)~cbind(row1,row2,...) data data contains data corresponds formula total `total' name variable dataset contains number individuals unit","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_tomogRxC.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualizing EI (tomography plot for RxC) — plot_tomogRxC","text":"ggplot object","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_tomogRxC.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualizing EI (tomography plot for RxC) — plot_tomogRxC","text":"","code":"data(RxCdata) formula <- cbind(turnout, noturnout) ~ cbind(white, black, hisp) plot_tomogRxC(formula, RxCdata)"},{"path":"https://iqss-research.github.io/ei/reference/plot_truth.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualizing EI (with truth) — plot_truth","title":"Visualizing EI (with truth) — plot_truth","text":"Compares truth estimates district precinct-level. Requires truth argument ei object.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_truth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualizing EI (with truth) — plot_truth","text":"","code":"plot_truth(ei.object)"},{"path":"https://iqss-research.github.io/ei/reference/plot_truth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualizing EI (with truth) — plot_truth","text":"ei.object output ei()","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_truth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualizing EI (with truth) — plot_truth","text":"ggplot object","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_truth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualizing EI (with truth) — plot_truth","text":"","code":"data(matproii) truth <- cbind(matproii$tb, matproii$tw) suppressMessages({   ei_res <- ei(formula = t ~ x, total = \"n\", truth = truth, data = matproii) }) plot_truth(ei_res)"},{"path":"https://iqss-research.github.io/ei/reference/plot_xt.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualizing EI (xt-plot) — plot_xt","title":"Visualizing EI (xt-plot) — plot_xt","text":"\\(X_i\\) \\(T_i\\) scatterplot circles sized proportional \\(N_i\\).","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_xt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualizing EI (xt-plot) — plot_xt","text":"","code":"plot_xt(   ei.object,   options = list(density = TRUE, fit = TRUE, CI = 0.8, goodman = FALSE) )"},{"path":"https://iqss-research.github.io/ei/reference/plot_xt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualizing EI (xt-plot) — plot_xt","text":"ei.object output ei(). options list options density: Showing density estimate. fit: Showing \\(X_i\\) \\(T_i\\) plot estimated \\(E(T_i|X_i)\\) CI: Showing confidence interval specfied statistical level. goodman: Goodman's regression.","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_xt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualizing EI (xt-plot) — plot_xt","text":"ggplot object","code":""},{"path":"https://iqss-research.github.io/ei/reference/plot_xt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualizing EI (xt-plot) — plot_xt","text":"","code":"data(matproii) suppressMessages({   ei_res <- ei(formula = t ~ x, total = \"n\", data = matproii) }) # `plot_xt()` function plot_xt(ei_res)  # `plot_xt()` with options plot_xt(ei_res, options = list(CI = 0.95, fit = FALSE, goodman = TRUE))"},{"path":"https://iqss-research.github.io/ei/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. dplyr filter","code":""},{"path":"https://iqss-research.github.io/ei/reference/sample_ei.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data for Black Votes — sample_ei","title":"Sample Data for Black Votes — sample_ei","text":"description dataset","code":""},{"path":"https://iqss-research.github.io/ei/reference/sample_ei.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data for Black Votes — sample_ei","text":"vector containing 141 observations.","code":""},{"path":"https://iqss-research.github.io/ei/reference/sample_ei.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data for Black Votes — sample_ei","text":"Source","code":""},{"path":"https://iqss-research.github.io/ei/reference/sample_ei.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sample Data for Black Votes — sample_ei","text":"Gary King (1997). Solution Ecological Inference Problem. Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/summary.ei.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize Ecological Inference Estimates — summary.ei","title":"Summarize Ecological Inference Estimates — summary.ei","text":"`summary' method class `ei'.","code":""},{"path":"https://iqss-research.github.io/ei/reference/summary.ei.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize Ecological Inference Estimates — summary.ei","text":"","code":"# S3 method for ei summary(object, ...)"},{"path":"https://iqss-research.github.io/ei/reference/summary.ei.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize Ecological Inference Estimates — summary.ei","text":"object ei object function ei. ... list options return graphs.  See values .","code":""},{"path":"https://iqss-research.github.io/ei/reference/summary.ei.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize Ecological Inference Estimates — summary.ei","text":"TODO","code":""},{"path":"https://iqss-research.github.io/ei/reference/summary.ei.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Summarize Ecological Inference Estimates — summary.ei","text":"Gary King (1997). Solution Ecological Inference Problem.  Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/summary.ei.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Summarize Ecological Inference Estimates — summary.ei","text":"Gary King <<email: king@harvard.edu>> Molly Roberts <<email: molly.e.roberts@gmail.com>>","code":""},{"path":"https://iqss-research.github.io/ei/reference/summary.ei.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarize Ecological Inference Estimates — summary.ei","text":"","code":"data(sample_ei) formula <- t ~ x dbuf <- ei(formula = formula, total = \"n\", data = sample_ei) #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ℹ Maximizing likelihood #> ℹ Running 2x2 ei #> ✔ Running 2x2 ei [1.2s] #>  #> ⠙ Beginning importance sampling. #> ✔ Beginning importance sampling. [3.4s] #>  summary(dbuf) #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #>  #> ── Erho ── #>  #> 0.1 #>  #>  #> ── Esigma ── #>  #> 0.5 #>  #>  #> ── Ebeta ── #>  #> 0.5 #>  #>  #> ── N ── #>  #> 75 #>  #>  #> ── Resamp ── #>  #> 27 #>  #>  #> ── Maximum likelihood results in scale of estimation (and se's) ── #>  #>         Bb0       Bw0       sigB       sigW        rho Zb0 Zw0 #>  -1.1605918 0.8264157 -2.1410777 -1.8073480 0.03161319   0   0 #>   0.1175759 0.1130699  0.2519238  0.1606003 0.09794052   0   0 #>  #>  #> ── Untruncated psi's ── #>  #>         BB       BW        SB        SW        RHO #>  0.1870089 0.731764 0.1263615 0.1652686 0.02986446 #>  #>  #> ── Truncated psi's (ultimate scale) ── #>  #>         BB        BW        SB        SW        RHO #>  0.2078371 0.7122199 0.1096279 0.1481743 0.05361387 #>  #>  #> ── Aggregate Bounds ── #>  #>            betab     betaw #> lower 0.09549504 0.3979843 #> upper 0.60893461 0.8031228 #>  #>  #> ── Estimates of Aggregate Quantities of Interest ── #>  #>         mean          sd #> Bb 0.2061148 0.011572392 #> Bw 0.7158363 0.009131399 #>  #>  #> ── Precision ── #>  #> 4 #>"},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC.html","id":null,"dir":"Reference","previous_headings":"","what":"Plotting Ecological Inference Estimates with eiRxC information — tomogRxC","title":"Plotting Ecological Inference Estimates with eiRxC information — tomogRxC","text":"tomography plot estimated Ecological Inference model RxC data.","code":""},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plotting Ecological Inference Estimates with eiRxC information — tomogRxC","text":"","code":"tomogRxC(formula, data, total = NULL, refine = 100)"},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plotting Ecological Inference Estimates with eiRxC information — tomogRxC","text":"formula formula form cbind(col1, col2,...)~cbind(row1,row2,...) data data contains data corresponds formula total `total' name variable dataset contains number individuals unit refine specifies amount refinement image.  Higher numbers mean better resolution.","code":""},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Plotting Ecological Inference Estimates with eiRxC information — tomogRxC","text":"Gary King (1997). Solution Ecological Inference Problem.  Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plotting Ecological Inference Estimates with eiRxC information — tomogRxC","text":"Gary King <<email: king@harvard.edu>> Molly Roberts <<email: molly.e.roberts@gmail.com>>","code":""},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plotting Ecological Inference Estimates with eiRxC information — tomogRxC","text":"","code":"data(RxCdata) formula <- cbind(turnout, noturnout) ~ cbind(white, black, hisp) tomogRxC(formula, data = RxCdata) #> Warning: `tomogRxC()` was deprecated in ei 2.0.0. #> Please use `plot_tomogRxC()` instead. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated. #> There are 0 tomography polygons with no information"},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC3d.html","id":null,"dir":"Reference","previous_headings":"","what":"Plotting 2x3 Ecological Inference Estimates in 3 dimensions — tomogRxC3d","title":"Plotting 2x3 Ecological Inference Estimates in 3 dimensions — tomogRxC3d","text":"tomography plot 3 dimensions RxC Ecological Inference data estimated Ecological Inference model RxC data.","code":""},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC3d.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plotting 2x3 Ecological Inference Estimates in 3 dimensions — tomogRxC3d","text":"","code":"tomogRxC3d(   formula,   data,   total = NULL,   lci = TRUE,   estimates = FALSE,   ci = FALSE,   level = 0.95,   seed = 1234,   color = hcl(h = 30, c = 100, l = 60),   transparency = 0.75,   light = FALSE,   rotate = TRUE )"},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC3d.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plotting 2x3 Ecological Inference Estimates in 3 dimensions — tomogRxC3d","text":"formula formula form cbind(col1, col2,...)~cbind(row1,row2,...) data data contains data corresponds formula total `total' name variable dataset contains number individuals unit lci logical value specifying use Law Conservation Ink, implicit information data represented color gradients, .e. color plane function area tomography plane. estimates logical value specifying whether point estimates \\(\\beta\\)'s included observation tomography plot. ci logical value specifying whether estimated confidence ellipse included tomography plot. level numeric value 0 1 specifying significance level confidence ellipse; eg. .95 refers 95% confidence ellipse. seed seed value model estimation. color color tomography planes lci=F. transparency numeric value 0 1 specifying transparency tomography planes; 0 entirely transparent. light logical value specifying whether lights included rgl interface. inclusion lights create shadows plot may distort colors. rotate logical value specifying whether plot rotate 20 seconds.","code":""},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC3d.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plotting 2x3 Ecological Inference Estimates in 3 dimensions — tomogRxC3d","text":"TODO","code":""},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC3d.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plotting 2x3 Ecological Inference Estimates in 3 dimensions — tomogRxC3d","text":"Requires rgl package rgl viewer.","code":""},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC3d.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Plotting 2x3 Ecological Inference Estimates in 3 dimensions — tomogRxC3d","text":"Gary King (1997). Solution Ecological Inference Problem.  Princeton: Princeton University Press.","code":""},{"path":"https://iqss-research.github.io/ei/reference/tomogRxC3d.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plotting 2x3 Ecological Inference Estimates in 3 dimensions — tomogRxC3d","text":"Gary King <<email: king@harvard.edu>>; Molly Roberts <<email: molly.e.roberts@gmail.com>>; Soledad Prillaman <<email: soledadartiz@fas.harvard.edu..","code":""},{"path":"https://iqss-research.github.io/ei/reference/values_ei.html","id":null,"dir":"Reference","previous_headings":"","what":"Returning an element in the ei object — values_ei","title":"Returning an element in the ei object — values_ei","text":"Returning element ei object","code":""},{"path":"https://iqss-research.github.io/ei/reference/values_ei.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returning an element in the ei object — values_ei","text":"","code":"values_ei(object, name)"},{"path":"https://iqss-research.github.io/ei/reference/values_ei.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returning an element in the ei object — values_ei","text":"object ei object function ei. name name element extract ei object.","code":""},{"path":"https://iqss-research.github.io/ei/news/index.html","id":"ei-134","dir":"Changelog","previous_headings":"","what":"ei 1.3.4","title":"ei 1.3.4","text":"Use optim() place ucminf. Added NEWS.md file track changes package. Modernize documentation3","code":""}]
